{"version":3,"file":"provider.js","sources":["../src/Components/Provider/index.jsx"],"sourcesContent":["import React from 'react';\nimport { configureStore, getDefaultMiddleware, isPlain } from '@reduxjs/toolkit';\nimport { Provider } from 'react-redux';\nimport formSlice from './slice';\nimport PropTypes from 'prop-types';\n\nconst getStore = () => configureStore({\n\treducer: formSlice.reducer,\n\tdevTools: {\n\t\tname: 'Form'\n\t},\n\t// TODO: use a more flexible event system like RxJS\n\tmiddleware: getDefaultMiddleware({\n\t\tserializableCheck: {\n\t\t\tisSerializable: (val) => {\n\t\t\t\t// Functions should not be part of the redux according to some best practices.\n\t\t\t\t// However, we need function stored in the state to fire appropriate callbacks\n\t\t\t\t// TODO: use a pubsub library to handle callbacks, which can offload callback functions from redux store\n\t\t\t\treturn typeof val === 'function' || isPlain(val);\n\t\t\t}\n\t\t}\n\t})\n});\n\nconst FormProvider = ({ children }) => {\n\treturn <Provider store={getStore()}>\n\t\t{children}\n\t</Provider>;\n};\n\nFormProvider.propTypes = {\n\tchildren: PropTypes.element,\n};\n\nexport default FormProvider;\n\nexport const withForm = (Component) => {\n\tclass WithForm extends React.PureComponent {\n\t\trender() {\n\t\t\treturn <FormProvider>\n\t\t\t\t<Component {...this.props} />\n\t\t\t</FormProvider>;\n\t\t}\n\t}\n\treturn WithForm;\n};"],"names":["getStore","configureStore","reducer","formSlice","devTools","name","middleware","getDefaultMiddleware","serializableCheck","isSerializable","val","isPlain","FormProvider","children","React","Provider","store","propTypes","PropTypes","element","withForm","Component","this","props","PureComponent"],"mappings":"wRAMMA,SAAW,kBAAMC,qBAAe,CACrCC,QAASC,gBAAUD,QACnBE,SAAU,CACTC,KAAM,QAGPC,WAAYC,2BAAqB,CAChCC,kBAAmB,CAClBC,eAAgB,SAACC,SAIM,mBAARA,GAAsBC,cAAQD,UAM1CE,aAAe,YAAGC,IAAAA,gBAChBC,qCAACC,gBAASC,MAAOhB,YACtBa,IAIHD,aAAaK,UAAY,CACxBJ,SAAUK,gBAAUC,aAKRC,SAAW,SAACC,kMAEvB,kBACQP,qCAACF,kBACPE,qCAACO,EAAcC,KAAKC,eAHAT,uBAAMU"}